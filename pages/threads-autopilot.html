<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate, max-age=0">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="-1">
    <title>–ê–≤—Ç–æ–ø–∏–ª–æ—Ç - THREADS ZAVOD</title>
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="../assets/css/threads.css">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
    <div id="app">
        <!-- Header -->
        <div class="header-gradient">
            <div class="header-back-button" id="back-button">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M15 18L9 12L15 6" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <div class="header-title-block">
                <div class="header-title">ü§ñ –ê–í–¢–û–ü–ò–õ–û–¢</div>
                <div class="header-subtitle">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è–º–∏</div>
            </div>
        </div>

        <!-- Main Content -->
        <main class="main-content">
            <div class="autopilot-container">
                
                <!-- Status Section -->
                <div class="status-section">
                    <div class="status-card">
                        <div class="status-indicator">
                            <span class="status-dot" id="autopilot-dot">üî¥</span>
                            <span class="status-text" id="autopilot-status">–ù–µ–∞–∫—Ç–∏–≤–µ–Ω</span>
                        </div>
                        <div class="account-info">
                            <span>–ê–∫–∫–∞—É–Ω—Ç: <span id="autopilot-account">–ù–µ –ø–æ–¥–∫–ª—é—á–µ–Ω</span></span>
                        </div>
                    </div>
                </div>

                <!-- Setup Required (shown when not configured) -->
                <div class="setup-required" id="setup-required">
                    <div class="setup-card">
                        <div class="setup-icon">‚öôÔ∏è</div>
                        <div class="setup-content">
                            <h3>–ê–≤—Ç–æ–ø–∏–ª–æ—Ç –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω</h3>
                            <p>–î–ª—è —Ä–∞–±–æ—Ç—ã –∞–≤—Ç–æ–ø–∏–ª–æ—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:</p>
                            <ul>
                                <li>‚úÖ –ü–æ–¥–∫–ª—é—á–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç Threads</li>
                                <li>‚úÖ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–π</li>
                                <li>‚úÖ –ó–∞–ø–æ–ª–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ò–ò-–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</li>
                            </ul>
                            <button class="threads-button primary" id="setup-autopilot">
                                ‚öôÔ∏è –ù–ê–°–¢–†–û–ò–¢–¨ –ê–í–¢–û–ü–ò–õ–û–¢
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Active Autopilot (shown when configured) -->
                <div class="active-autopilot" id="active-autopilot" style="display: none;">
                    
                    <!-- Schedule Today -->
                    <div class="schedule-section">
                        <div class="schedule-day">
                            <h4>üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞ —Å–µ–≥–æ–¥–Ω—è</h4>
                            <div class="posts-list" id="today-posts">
                                <div class="post-item">
                                    <span class="post-time">10:00</span>
                                    <span class="post-status">‚è≥ –û–∂–∏–¥–∞–Ω–∏–µ</span>
                                    <span class="post-content">–ü–æ—Å—Ç –≥–æ—Ç–æ–≤ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Queue Info -->
                    <div class="queue-section">
                        <div class="queue-info">
                            üìù –í –æ—á–µ—Ä–µ–¥–∏: <span id="queue-count">0</span> –ø–æ—Å—Ç–æ–≤ –≥–æ—Ç–æ–≤—ã
                        </div>
                    </div>

                    <!-- Controls -->
                    <div class="controls-section">
                        <h4>üéõÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</h4>
                        <div class="control-buttons">
                            <button class="control-button pause" id="pause-autopilot">
                                ‚è∏Ô∏è –ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–≤—Ç–æ–ø–∏–ª–æ—Ç
                            </button>
                            <button class="control-button schedule" id="edit-schedule">
                                üìÖ –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
                            </button>
                        </div>
                    </div>

                    <!-- Publishing Calendar -->
                    <div class="calendar-section" id="calendar-section" style="display: none;">
                        <h4>üóìÔ∏è –ö–ê–õ–ï–ù–î–ê–†–¨ –ü–£–ë–õ–ò–ö–ê–¶–ò–ô</h4>
                        <div class="publishing-calendar" id="publishing-calendar">
                            <!-- Calendar will be generated here -->
                        </div>
                        <div class="calendar-legend">
                            <div class="legend-item">
                                <span class="legend-dot active">‚óè</span>
                                <span>–ê–∫—Ç–∏–≤–Ω—ã–µ –¥–Ω–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–π</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-dot published">‚úÖ</span>
                                <span>–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-dot scheduled">‚è≥</span>
                                <span>–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã</span>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </main>

        <!-- Schedule Editor Modal -->
        <div class="modal-overlay" id="schedule-modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>üìÖ –†–µ–¥–∞–∫—Ç–æ—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è</h3>
                    <button class="modal-close" id="close-schedule-modal">‚úï</button>
                </div>
                
                <div class="modal-body">
                    <!-- Schedule Type Selection -->
                    <div class="schedule-type-section">
                        <h4>–¢–∏–ø —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:</h4>
                        <div class="type-buttons">
                            <button class="type-button active" data-type="daily">üìÜ –ï–∂–µ–¥–Ω–µ–≤–Ω–æ</button>
                            <button class="type-button" data-type="custom">üéØ –í—ã–±–æ—Ä–æ—á–Ω–æ</button>
                        </div>
                    </div>

                    <!-- Daily Schedule -->
                    <div class="daily-schedule" id="daily-schedule">
                        <h4>–ü—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ –¥–µ–Ω—å:</h4>
                        <div class="posts-input">
                            <input type="number" id="daily-posts" min="1" max="10" value="6">
                            <span>–ø–æ—Å—Ç–æ–≤ –≤ –¥–µ–Ω—å</span>
                        </div>
                        
                        <h4>–í—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π:</h4>
                        <div class="time-slots" id="daily-time-slots">
                            <!-- Time slots will be generated here -->
                        </div>
                        <button class="add-time-btn" id="add-daily-time">+ –î–æ–±–∞–≤–∏—Ç—å –≤—Ä–µ–º—è</button>
                    </div>

                    <!-- Custom Schedule -->
                    <div class="custom-schedule" id="custom-schedule" style="display: none;">
                        <h4>–í—ã–±–µ—Ä–∏—Ç–µ –¥–Ω–∏ –∏ –≤—Ä–µ–º—è:</h4>
                        <div class="calendar-editor" id="calendar-editor">
                            <!-- Calendar will be generated here -->
                        </div>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button class="btn-secondary" id="cancel-schedule">–û—Ç–º–µ–Ω–∞</button>
                    <button class="btn-primary" id="save-schedule">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="../assets/js/threads-api.js"></script>
    <script src="../assets/js/threads-autopilot.js"></script>
</body>
</html>